<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reservation Summary</title>
    <link rel="stylesheet" href="styles-current_res.css" />
  </head>
  <body>
    <div class="container">
      <h1>Reservation Summary</h1>

      <!-- Room Reservation Summary -->
      <h2>Room Reservation</h2>
      <table>
        <tr>
          <th>Room Number</th>
          <th>Date</th>
          <th>Start Time</th>
          <th>End Time</th>
        </tr>
        <tr>
          <td id="room"></td>
          <td id="date"></td>
          <td id="start-time"></td>
          <td id="end-time"></td>
        </tr>
      </table>

      <!-- Equipment Reservation Summary -->
      <h2 id="equipment-heading">Equipment Reserved</h2>
      <table id="equipment-table">
        <tr>
          <th>Equipment</th>
          <th>Date</th>
          <th>Start Time</th>
          <th>End Time</th>
        </tr>
        <tbody id="equipment-list">
          <!-- Dynamic Equipment Rows -->
        </tbody>
      </table>

      <button onclick="window.location.href='reservation.html'">
        Make Changes
      </button>
    </div>

    <script>
      // Get the stored values from localStorage
      const room = localStorage.getItem("selectedRoom");
      const date = localStorage.getItem("date");
      const startTime = localStorage.getItem("startTime");
      const endTime = localStorage.getItem("endTime");
      const equipment =
        JSON.parse(localStorage.getItem("selectedEquipment")) || [];

      // Display the reservation details
      document.getElementById("room").textContent = room;
      document.getElementById("date").textContent = date;
      document.getElementById("start-time").textContent = startTime;
      document.getElementById("end-time").textContent = endTime;

      // Populate equipment list
      const equipmentList = document.getElementById("equipment-list");
      const equipmentTable = document.getElementById("equipment-table");
      const equipmentHeading = document.getElementById("equipment-heading");

      if (equipment.length > 0) {
        equipment.forEach((item) => {
          const row = document.createElement("tr");

          // Create table cells
          const equipmentCell = document.createElement("td");
          const dateCell = document.createElement("td");
          const startTimeCell = document.createElement("td");
          const endTimeCell = document.createElement("td");

          // Assign values to the cells
          equipmentCell.textContent = item;
          dateCell.textContent = date;
          startTimeCell.textContent = startTime;
          endTimeCell.textContent = endTime;

          // Append cells to the row
          row.appendChild(equipmentCell);
          row.appendChild(dateCell);
          row.appendChild(startTimeCell);
          row.appendChild(endTimeCell);

          // Append the row to the table body
          equipmentList.appendChild(row);
        });
      } else {
        // Hide the equipment table and heading if no equipment is reserved
        equipmentTable.style.display = "none";
        equipmentHeading.style.display = "none";
      }
    </script>
  </body>
</html>
